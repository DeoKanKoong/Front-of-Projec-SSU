<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Project Management</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>
<body>
<div class="container mt-4" id="app">
    <h1 class="mb-4">Project Management</h1>

    <!-- Task List -->
    <div class="card mb-4">
        <div class="card-header">작업</div>
        <div class="card-body">
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">내용</th>
                    <th scope="col">담당자</th>
                    <th scope="col">우선순위</th>
                    <th scope="col">마감일</th>
                    <th scope="col">작업</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="task in tasks" :key="task.id">
                    <td>{{ task.content }}</td>
                    <td>{{ task.assignee }}</td>
                    <td>
                        <span :class="getPriorityClass(task.priority)">{{ task.priority }}</span>
                    </td>
                    <td>{{ task.dueDate }}</td>
                    <td>
                        <button class="btn btn-sm btn-danger" @click="deleteTask(task.id)">Delete</button>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="mt-3">
                <input v-model="newTaskContent" class="form-control" placeholder="New task">
                <input v-model="newTaskAssignee" class="form-control mt-2" placeholder="Assignee">
                <select v-model="newTaskPriority" class="form-control mt-2">
                    <option value="높음">높음</option>
                    <option value="중간">중간</option>
                    <option value="낮음">낮음</option>
                </select>
                <input v-model="newTaskDueDate" type="date" class="form-control mt-2">
                <button class="btn btn-primary mt-2" @click="addTask">Add Task</button>
            </div>
        </div>
    </div>
</div>

<script>
    new Vue({
        el: '#app',
        data: {
            tasks: [
                { id: 1, content: '작업 추가', assignee: 'Mizuki Ham', priority: '중간', dueDate: '2022-08-30' },
                { id: 2, content: '타임 추가', assignee: 'Henry Wang', priority: '높음', dueDate: '2022-08-30' },
                { id: 3, content: '하위 작업 추가', assignee: 'Ivan Zhao', priority: '낮음', dueDate: '2022-08-06' }
            ],
            newTaskContent: '',
            newTaskAssignee: '',
            newTaskPriority: '중간',
            newTaskDueDate: ''
        },
        methods: {
            addTask() {
                if (this.newTaskContent.trim() && this.newTaskAssignee.trim() && this.newTaskDueDate.trim()) {
                    const newTask = {
                        id: Date.now(),
                        content: this.newTaskContent,
                        assignee: this.newTaskAssignee,
                        priority: this.newTaskPriority,
                        dueDate: this.newTaskDueDate
                    };
                    this.tasks.push(newTask);
                    this.newTaskContent = '';
                    this.newTaskAssignee = '';
                    this.newTaskPriority = '중간';
                    this.newTaskDueDate = '';
                }
            },
            deleteTask(id) {
                this.tasks = this.tasks.filter(task => task.id !== id);
            },
            getPriorityClass(priority) {
                return {
                    'badge bg-danger': priority === '높음',
                    'badge bg-warning': priority === '중간',
                    'badge bg-success': priority === '낮음'
                }[priority] || 'badge bg-secondary';
            }
        }
    });
</script>
</body>
</html>
